{"ast":null,"code":"import _regeneratorRuntime from \"E:/houtai/backstage/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"E:/houtai/backstage/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  name: \"Home\",\n  data: function data() {\n    return {\n      List: [],\n      Icons: {\n        1: \"el-icon-user-solid\",\n        2: \"el-icon-s-help\",\n        3: \"el-icon-s-cooperation\",\n        4: \"el-icon-s-order\",\n        5: \"el-icon-s-data\"\n      },\n      state: false\n    };\n  },\n  computed: {\n    Second: function Second() {\n      return this.$slots.state.Activepath;\n    }\n  },\n  mounted: function mounted() {\n    this.$store.state.Activepath = sessionStorage.getItem(\"path\"); // 一进入页面， 调用这个方法\n\n    this.MenusList();\n  },\n  methods: {\n    // 退出\n    LoginOut: function LoginOut() {\n      // 1. 清空 token\n      sessionStorage.clear(); // 2. 跳转到登录页面\n\n      this.$router.push(\"/login\");\n    },\n    // 获取新数据\n    MenusList: function MenusList() {\n      var _this = this;\n\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        var _yield$_this$$http$ge, res;\n\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return _this.$http.get(\"/api/menus\");\n\n              case 2:\n                _yield$_this$$http$ge = _context.sent;\n                res = _yield$_this$$http$ge.data;\n\n                if (!(res.meta.status !== 200)) {\n                  _context.next = 6;\n                  break;\n                }\n\n                return _context.abrupt(\"return\", _this.$message.error(res.data.meta.message));\n\n              case 6:\n                _this.List = res.data;\n\n              case 7:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }))();\n    },\n    // 二级菜单点击高亮\n    Secondary: function Secondary(Activepath) {\n      sessionStorage.setItem(\"path\", Activepath);\n      this.$store.commit(\"Tage\", Activepath); // this.Activepath=Activepath\n    },\n    // 菜单点击折叠\n    Tgell: function Tgell() {\n      this.state = !this.state;\n    }\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgEA;EACAA,YADA;EAEAC,IAFA,kBAEA;IACA;MACAC,QADA;MAEAC;QACA,uBADA;QAEA,mBAFA;QAGA,0BAHA;QAIA,oBAJA;QAKA;MALA,CAFA;MAUAC;IAVA;EAYA,CAfA;EAgBAC;IACAC,MADA,oBACA;MACA;IACA;EAHA,CAhBA;EAqBAC,OArBA,qBAqBA;IACA,8DADA,CAEA;;IACA;EACA,CAzBA;EA0BAC;IACA;IACAC,QAFA,sBAEA;MACA;MACAC,uBAFA,CAGA;;MACA;IACA,CAPA;IAQA;IACAC,SATA,uBASA;MAAA;;MAAA;QAAA;;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAAA,OACA,6BADA;;cAAA;gBAAA;gBACAC,GADA,yBACAX,IADA;;gBAAA,MAEAW,uBAFA;kBAAA;kBAAA;gBAAA;;gBAAA,iCAGA,2CAHA;;cAAA;gBAIA;;cAJA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAKA,CAdA;IAeA;IACAC,SAhBA,qBAgBAC,UAhBA,EAgBA;MACAJ;MACA,uCAFA,CAGA;IACA,CApBA;IAqBA;IACAK,KAtBA,mBAsBA;MACA;IACA;EAxBA;AA1BA","names":["name","data","List","Icons","state","computed","Second","mounted","methods","LoginOut","sessionStorage","MenusList","res","Secondary","Activepath","Tgell"],"sourceRoot":"src/components","sources":["Home.vue"],"sourcesContent":["<template>\r\n  <div class=\"home\">\r\n    <!-- 头部导航栏 -->\r\n    <el-container>\r\n      <el-header>\r\n        <div>\r\n          <h2>后台管理系统</h2>\r\n        </div>\r\n        <el-button type=\"warning\" @click=\"LoginOut\">退出</el-button>\r\n      </el-header>\r\n      <el-container>\r\n        <!-- 左边导航栏 -->\r\n        <el-aside :width=\"state ? '64px' : '200px'\">\r\n          <el-row>\r\n            <div class=\"tarage\" @click=\"Tgell\">\r\n              <i :class=\"state ? 'el-icon-s-unfold' : 'el-icon-s-fold'\"></i>\r\n            </div>\r\n            <el-col>\r\n              <el-menu\r\n                :default-active=\"$store.state.Activepath\"\r\n                class=\"el-menu-vertical-demo\"\r\n                text-color=\"#fff\"\r\n                :router=\"true\"\r\n                :collapse=\"state\"\r\n                :collapse-transition=\"false\"\r\n                \r\n              >\r\n                <el-submenu\r\n                  :index=\"item.id + ''\"\r\n                  v-for=\"item in List\"\r\n                  :key=\"item.id\"\r\n                  \r\n                >\r\n                  <template slot=\"title\">\r\n                    <i :class=\"Icons[item.id]\"></i>\r\n                    <span>{{ item.authName }}</span>\r\n                  </template>\r\n                  <!-- 二级菜单 -->\r\n                  <el-menu-item-group\r\n                    v-for=\"items in item.children\"\r\n                    :key=\"items.id\"\r\n                  >\r\n                    <el-menu-item\r\n                      :index=\"items.path\"\r\n                      class=\"el-icon-document\"\r\n                      @click=\"Secondary(items.path)\"\r\n                      >&nbsp;{{ items.authName }}</el-menu-item\r\n                    >\r\n                  </el-menu-item-group>\r\n                </el-submenu>\r\n              </el-menu>\r\n            </el-col>\r\n          </el-row>\r\n        </el-aside>\r\n        <!-- main导航栏 -->\r\n        <el-main>\r\n          <router-view></router-view>\r\n        </el-main>\r\n      </el-container>\r\n    </el-container>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"Home\",\r\n  data() {\r\n    return {\r\n      List: [],\r\n      Icons: {\r\n        1: \"el-icon-user-solid\",\r\n        2: \"el-icon-s-help\",\r\n        3: \"el-icon-s-cooperation\",\r\n        4: \"el-icon-s-order\",\r\n        5: \"el-icon-s-data\",\r\n      },\r\n\r\n      state: false,\r\n    };\r\n  },\r\n  computed: {\r\n    Second() {\r\n      return this.$slots.state.Activepath;\r\n    },\r\n  },\r\n  mounted() {\r\n    this.$store.state.Activepath = sessionStorage.getItem(\"path\");\r\n    // 一进入页面， 调用这个方法\r\n    this.MenusList();\r\n  },\r\n  methods: {\r\n    // 退出\r\n    LoginOut() {\r\n      // 1. 清空 token\r\n      sessionStorage.clear();\r\n      // 2. 跳转到登录页面\r\n      this.$router.push(\"/login\");\r\n    },\r\n    // 获取新数据\r\n    async MenusList() {\r\n      const { data: res } = await this.$http.get(\"/api/menus\");\r\n      if (res.meta.status !== 200)\r\n        return this.$message.error(res.data.meta.message);\r\n      this.List = res.data;\r\n    },\r\n    // 二级菜单点击高亮\r\n    Secondary(Activepath) {\r\n      sessionStorage.setItem(\"path\", Activepath);\r\n      this.$store.commit(\"Tage\", Activepath);\r\n      // this.Activepath=Activepath\r\n    },\r\n    // 菜单点击折叠\r\n    Tgell() {\r\n      this.state = !this.state;\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.home {\r\n  height: 100vh;\r\n  background: url(\"../assets/bg2.jpg\") no-repeat center/100%;\r\n}\r\n.head {\r\n  height: 50px;\r\n}\r\n.el-header {\r\n  display: flex;\r\n  width: 100%;\r\n  background: rgba(0, 0, 0, 0.2);\r\n  justify-content: space-between;\r\n}\r\n.el-header div {\r\n  width: 100%;\r\n  height: 50px;\r\n  color: #fff;\r\n  line-height: 50px;\r\n}\r\n.el-aside {\r\n  background: rgba(0, 0, 0, 0.4);\r\n}\r\n.el-button--warning {\r\n  background-image: linear-gradient(\r\n    to right,\r\n    rgb(177, 74, 153),\r\n    rgb(241, 209, 147)\r\n  );\r\n}\r\n/deep/.el-menu-vertical-demo {\r\n  background-color: rgba(0, 0, 0, 0.3);\r\n}\r\n.tarage {\r\n  text-align: center;\r\n  line-height: 35px;\r\n  color: #fff;\r\n\r\n  height: 35px;\r\n  background-color: rgba(0, 0, 0, 0.2);\r\n}\r\n/deep/.el-icon-arrow-down {\r\n  color: #fff;\r\n}\r\n/deep/.el-menu--popup {\r\n  background: #000;\r\n}\r\n.el-menu {\r\n  border-right: none;\r\n}\r\n.el-col-12 {\r\n  width: 100%;\r\n}\r\n/deep/ .el-submenu__title {\r\n  height: 100%;\r\n}\r\n/deep/.el-submenu__title:hover {\r\n  background: rgba(0, 0, 0, 0.3);\r\n}\r\n.el-menu-item {\r\n  background: rgba(0, 0, 0, 0.2);\r\n}\r\n/deep/.el-menu {\r\n  background: rgba(0, 0, 0, 0.2);\r\n}\r\n.el-menu-item-group {\r\n  background: rgba(0, 0, 0, 0.2);\r\n}\r\n/deep/.el-menu-item-group__title {\r\n  background: rgba(0, 0, 0, 0.2);\r\n}\r\n/deep/.el-icon-location {\r\n  color: #fff;\r\n}\r\n.el-icon-s-cooperation,\r\n.el-icon-user-solid,\r\n.el-icon-s-help,\r\n.el-icon-s-order,\r\n.el-icon-s-data {\r\n  color: #fff;\r\n}\r\n.el-container {\r\n  height: 100vh;\r\n}\r\n.el-main {\r\n  background: rgba(0, 0, 0, 0.3);\r\n}\r\n</style>\r\n\r\n"]},"metadata":{},"sourceType":"module"}