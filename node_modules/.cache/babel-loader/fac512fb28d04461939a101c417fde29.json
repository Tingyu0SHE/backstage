{"ast":null,"code":"import \"core-js/modules/es.array.splice.js\";\n//\n//\n//\n//\nexport default {\n  name: \"index\",\n  methods: {\n    show: function show() {\n      (function emojiCursor() {\n        var possibleEmoji = [\"xi\", \"😂\", \"😆\", \"😊\"];\n        var width = window.innerWidth;\n        var height = window.innerHeight;\n        var cursor = {\n          x: width / 2,\n          y: width / 2\n        };\n        var particles = [];\n\n        function init() {\n          bindEvents();\n          loop();\n        } // Bind events that are needed\n\n\n        function bindEvents() {\n          document.addEventListener('mousemove', onMouseMove);\n          document.addEventListener('touchmove', onTouchMove);\n          document.addEventListener('touchstart', onTouchMove);\n          window.addEventListener('resize', onWindowResize);\n        }\n\n        function onWindowResize(e) {\n          width = window.innerWidth;\n          height = window.innerHeight;\n        }\n\n        function onTouchMove(e) {\n          if (e.touches.length > 0) {\n            for (var i = 0; i < e.touches.length; i++) {\n              addParticle(e.touches[i].clientX, e.touches[i].clientY, possibleEmoji[Math.floor(Math.random() * possibleEmoji.length)]);\n            }\n          }\n        }\n\n        function onMouseMove(e) {\n          cursor.x = e.clientX;\n          cursor.y = e.clientY;\n          addParticle(cursor.x, cursor.y, possibleEmoji[Math.floor(Math.random() * possibleEmoji.length)]);\n        }\n\n        function addParticle(x, y, character) {\n          var particle = new Particle();\n          particle.init(x, y, character);\n          particles.push(particle);\n        }\n\n        function updateParticles() {\n          // Updated\n          for (var i = 0; i < particles.length; i++) {\n            particles[i].update();\n          } // Remove dead particles\n\n\n          for (var i = particles.length - 1; i >= 0; i--) {\n            if (particles[i].lifeSpan < 0) {\n              particles[i].die();\n              particles.splice(i, 1);\n            }\n          }\n        }\n\n        function loop() {\n          requestAnimationFrame(loop);\n          updateParticles();\n        }\n        /**\n         * Particles\n         */\n\n\n        function Particle() {\n          this.lifeSpan = 120; //ms\n\n          this.initialStyles = {\n            \"position\": \"fixed\",\n            \"top\": \"0\",\n            \"display\": \"block\",\n            \"pointerEvents\": \"none\",\n            \"z-index\": \"10000000\",\n            \"fontSize\": \"24px\",\n            \"will-change\": \"transform\"\n          }; // Init, and set properties\n\n          this.init = function (x, y, character) {\n            this.velocity = {\n              x: (Math.random() < 0.5 ? -1 : 1) * (Math.random() / 2),\n              y: 1\n            };\n            this.position = {\n              x: x - 10,\n              y: y - 20\n            };\n            this.element = document.createElement('span');\n            this.element.innerHTML = character;\n            applyProperties(this.element, this.initialStyles);\n            this.update();\n            document.body.appendChild(this.element);\n          };\n\n          this.update = function () {\n            this.position.x += this.velocity.x;\n            this.position.y += this.velocity.y;\n            this.lifeSpan--;\n            this.element.style.transform = \"translate3d(\" + this.position.x + \"px,\" + this.position.y + \"px,0) scale(\" + this.lifeSpan / 120 + \")\";\n          };\n\n          this.die = function () {\n            this.element.parentNode.removeChild(this.element);\n          };\n        }\n        /**\n         * Utils\n         */\n        // Applies css `properties` to an element.\n\n\n        function applyProperties(target, properties) {\n          for (var key in properties) {\n            target.style[key] = properties[key];\n          }\n        }\n\n        init();\n      })();\n    }\n  },\n  mounted: function mounted() {\n    this.show();\n  }\n};","map":{"version":3,"mappings":";;;;;AAKA;EACAA,aADA;EAEAC;IACAC,IADA,kBACA;MACA;QAEA;QACA;QACA;QACA;UAAAC;UAAAC;QAAA;QACA;;QAEA;UACAC;UACAC;QACA,CAXA,CAaA;;;QACA;UACAC;UACAA;UACAA;UAEAC;QACA;;QAEA;UACAC;UACAC;QACA;;QAEA;UACA;YACA;cACAC;YACA;UACA;QACA;;QAEA;UACAC;UACAA;UAEAD;QACA;;QAEA;UACA;UACAE;UACAC;QACA;;QAEA;UAEA;UACA;YACAA;UACA,CALA,CAOA;;;UACA;YACA;cACAA;cACAA;YACA;UACA;QAEA;;QAEA;UACAC;UACAC;QACA;QAEA;AACA;AACA;;;QAEA;UAEA,oBAFA,CAEA;;UACA;YACA,mBADA;YAEA,UAFA;YAGA,kBAHA;YAIA,uBAJA;YAKA,qBALA;YAMA,kBANA;YAOA;UAPA,EAHA,CAaA;;UACA;YAEA;cACAb,uDADA;cAEAC;YAFA;YAKA;cAAAD;cAAAC;YAAA;YAEA;YACA;YACAa;YACA;YAEAV;UACA,CAfA;;UAiBA;YACA;YACA;YACA;YAEA;UACA,CANA;;UAQA;YACA;UACA,CAFA;QAGA;QAEA;AACA;AACA;QAEA;;;QACA;UACA;YACAW;UACA;QACA;;QAEAC;MACA,CAlIA;IAmIA;EArIA,CAFA;EAyIAC,OAzIA,qBAyIA;IACA;EACA;AA3IA","names":["name","methods","show","x","y","bindEvents","loop","document","window","width","height","addParticle","cursor","particle","particles","requestAnimationFrame","updateParticles","applyProperties","target","init","mounted"],"sourceRoot":"src/components","sources":["index.vue"],"sourcesContent":["<template>\n  <h3>笑脸跟随鼠标</h3>\n</template>\n\n<script>\nexport default {\n  name: \"index\",\n  methods:{\n    show(){\n      (function emojiCursor() {\n\n        var possibleEmoji = [\"xi\", \"😂\", \"😆\", \"😊\"];\n        var width = window.innerWidth;\n        var height = window.innerHeight;\n        var cursor = {x: width/2, y: width/2};\n        var particles = [];\n\n        function init() {\n          bindEvents();\n          loop();\n        }\n\n        // Bind events that are needed\n        function bindEvents() {\n          document.addEventListener('mousemove', onMouseMove);\n          document.addEventListener('touchmove', onTouchMove);\n          document.addEventListener('touchstart', onTouchMove);\n\n          window.addEventListener('resize', onWindowResize);\n        }\n\n        function onWindowResize(e) {\n          width = window.innerWidth;\n          height = window.innerHeight;\n        }\n\n        function onTouchMove(e) {\n          if( e.touches.length > 0 ) {\n            for( var i = 0; i < e.touches.length; i++ ) {\n              addParticle( e.touches[i].clientX, e.touches[i].clientY, possibleEmoji[Math.floor(Math.random()*possibleEmoji.length)]);\n            }\n          }\n        }\n\n        function onMouseMove(e) {\n          cursor.x = e.clientX;\n          cursor.y = e.clientY;\n\n          addParticle( cursor.x, cursor.y, possibleEmoji[Math.floor(Math.random()*possibleEmoji.length)]);\n        }\n\n        function addParticle(x, y, character) {\n          var particle = new Particle();\n          particle.init(x, y, character);\n          particles.push(particle);\n        }\n\n        function updateParticles() {\n\n          // Updated\n          for( var i = 0; i < particles.length; i++ ) {\n            particles[i].update();\n          }\n\n          // Remove dead particles\n          for( var i = particles.length -1; i >= 0; i-- ) {\n            if( particles[i].lifeSpan < 0 ) {\n              particles[i].die();\n              particles.splice(i, 1);\n            }\n          }\n\n        }\n\n        function loop() {\n          requestAnimationFrame(loop);\n          updateParticles();\n        }\n\n        /**\n         * Particles\n         */\n\n        function Particle() {\n\n          this.lifeSpan = 120; //ms\n          this.initialStyles ={\n            \"position\": \"fixed\",\n            \"top\": \"0\",\n            \"display\": \"block\",\n            \"pointerEvents\": \"none\",\n            \"z-index\": \"10000000\",\n            \"fontSize\": \"24px\",\n            \"will-change\": \"transform\"\n          };\n\n          // Init, and set properties\n          this.init = function(x, y, character) {\n\n            this.velocity = {\n              x:  (Math.random() < 0.5 ? -1 : 1) * (Math.random() / 2),\n              y: 1\n            };\n\n            this.position = {x: x - 10, y: y - 20};\n\n            this.element = document.createElement('span');\n            this.element.innerHTML = character;\n            applyProperties(this.element, this.initialStyles);\n            this.update();\n\n            document.body.appendChild(this.element);\n          };\n\n          this.update = function() {\n            this.position.x += this.velocity.x;\n            this.position.y += this.velocity.y;\n            this.lifeSpan--;\n\n            this.element.style.transform = \"translate3d(\" + this.position.x + \"px,\" + this.position.y + \"px,0) scale(\" + (this.lifeSpan / 120) + \")\";\n          }\n\n          this.die = function() {\n            this.element.parentNode.removeChild(this.element);\n          }\n        }\n\n        /**\n         * Utils\n         */\n\n        // Applies css `properties` to an element.\n        function applyProperties( target, properties ) {\n          for( var key in properties ) {\n            target.style[ key ] = properties[ key ];\n          }\n        }\n\n        init();\n      })();\n    }\n  },\n  mounted() {\n    this.show()\n  }\n}\n</script>\n\n<style scoped>\n\n</style>\n"]},"metadata":{},"sourceType":"module"}